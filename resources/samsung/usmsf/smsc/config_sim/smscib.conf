###################################################################################
# UXCSSIM Main Configuration
###################################################################################
[UXCSIM/COMMON]
TCP_PORT = 6601 # actest socket listen port
#TCP_PORT = 9901 # actest socket listen port
LOG_FILE = /home/app/home/log/smscib/smscib
LOG_LEVEL = 0x1 # LOG LEVEL, 0xf(default) 
DISPLAY_PERIOD = 1

[UXCSIM/TRAFFIC]
CALL_RATE  = 2000
CALL_COUNT = 0
MAX_CALL   = 100000

[UXCSIM/EXTERNAL_DATA]
FILE   = 
SELECT = SEQUENTIAL

[UXCSIM/SUMSTAT]
LOG_FILE   = 
LOG_PERIOD = 1

[UXCSIM/RTSTAT]
REPARTITION = 150,300,500,800,1000,1500,2000,3000,4000,5000

[UXCSIM/MSGSTAT]

###################################################################################
# UXCUTOR Configuration
###################################################################################
[UXCUTOR/COMMON]
MAX_MQ_SIZE = 204800
USE_MQ = ON
USE_FD = ON
MAX_MESSAGE_SIZE = 20480
MAX_THREAD = 4
MPOOL_MAX_FREE = 0 # Mega byte
QUEUE_PRINT_LWM = 6000
#LOG_FORMAT = 0x0000BE # 0x0400BE(default)
#DEFAULT_LOG_FILE = log/uxcsim/uxcsim

[UXCUTOR/LIBRARY]
libsctp.so
libuxtpsctp.so
libssl.so.10
libcrypto.so.10
libuxtptls.so
libudia.so
libluajit-5.1.so
libudbc.so

[UXCUTOR/ACTOR]
#actor kind; dll file; module_create_function; configuration_file(opt)
LUA; libuact_lua.so; uxc_actlua_module_create;

[UXCUTOR/PROTOCOL_ADAPTER]
# protocol_adapter_name; protocol adapter id; dll_file; padapter_create_function; configuration_file(opt)
PA_DBIF; 1; libupa_dbif.so; upa_dbif_create;
PA_DIAMETER; 2; libupa_dia.so; upa_dia_create;

[UXCUTOR/PLUGIN]
# plugin-dll-file; DLL STATIC or DYNAMIC; plugin_create_function(opt); configuration_file(opt)
liblua_uxlib.so; STATIC;
liblua_udbc.so; STATIC;
liblua_udia.so; STATIC;
liblua_upadia.so; STATIC;
liblua_uxcutor.so; STATIC; luxc_plugin_create;
libuxcpt_dia.so; DYNAMIC; uxcpt_dia_create;
libuxcpt_dbif.so; DYNAMIC; uxcpt_dbif_create;

[UXCUTOR/SERVICE]
HOST_ID = 1
UPDATE_SESSMETA = OFF
MAX_SESSION_PER_THREAD = 100000
INDEX_BIN_SIZE = 16381
BACKUP_DIR = $UASYS_HOME/data/svcmeta

[UXCUTOR/SERVICE/UXCRIPT]
# file or directory
$UASYS_HOME/service/smscib.xcpt

[UXCUTOR/STATISTICS]
CONF_FILE = $UASYS_HOME/data/statistics.xml

[UXCUTOR/ACTION]
# action_name; from; to; kind; function_name; file_name(opt); flags(opt) 
# flags : 0x01(PUSH_ALL_THREAD) 
dis-xcutor; 20100603000000; 21121231235959; SYS; uxc_sysmmc_display
chg-xcutor; 20100603000000; 21121231235959; SYS; uxc_sysmmc_change
reload-xcutor; 20100603000000; 21121231235959; SYS; uxc_sysmmc_reload
dis-xcutor-trc; 20100603000000; 21121231235959; SYS; uxc_sysmmc_dis_trc
dis-xcutor-trc-total; 20100603000000; 21121231235959; SYS; uxc_sysmmc_dis_total_trc
add-xcutor-trc; 20100603000000; 21121231235959; SYS; uxc_sysmmc_add_trc
del-xcutor-trc; 20100603000000; 21121231235959; SYS; uxc_sysmmc_del_trc
uxcpt_handle_dia; 20100101000000; 20321231125959; DLL; uxcpt_handle_dia; libuxcpt_dia.so
uxcpt_handle_dbif; 20100101000000; 20321231125959; DLL; uxcpt_handle_dbif; libuxcpt_dbif.so

[UXCUTOR/PA_MMIF/COMMON]


[UXCUTOR/PA_DBIF/COMMON]
# DBIF protocol adapter common configuration : lib=libupa_dbif, class=upa_dbif_t
action_name = uxcpt_handle_dbif
recv_timeout = 3000 # recv timeout unit-msec

[UXCUTOR/PA_DBIF/OPDATA]
# DBIF PA opdata configuration : lib=libupa_dbif, class=upa_dbif_t
# opcode(cmd-id); action; cmd-name; timeout(msec); service; key index; route indexes
# Notice : Don't use msg id from 0 to 3 because the values are reserved in sql msg ID

31; ; RECV_MT; 3000; recv_msg; ; ;

[UXCUTOR/XCRIPT/DBIF]
SESSION_IDX_NAME    = DBIF

###################################################################################
# Actors Configuration
###################################################################################

[UXCUTOR/LUA/SCRIPT]
# file or directory
$UASYS_HOME/lua/script/ualua/uxlib
$UASYS_HOME/lua/script/ualua/uxcutor
$UASYS_HOME/lua/script/ualua/common

###################################################################################
# Protocol Adapters Configuration
###################################################################################
[UXCUTOR/PA_DIAMETER/COMMON]
action_name = uxcpt_handle_dia
udia_conf = data/udia_conf.xml
reconnect_time = 10     # seconds
sock_buf_size = 2048000
thread_count = 1

[UXCUTOR/PA_DIAMETER/CHANNEL]
# DIAMETER protocol adapter channel configuration : lib=libupa_dia, class=upa_dia_t
# chnl_name; chnl_id; action_name(opt); mode; pri_ip; sec_ip; port; maxpeer(opt)
ADIF_CHNL; 0; ;CLIENT; 127.0.0.1; ; 30007;
ADIF_CHNL1; 1; ;CLIENT; 127.0.0.1; ; 30009;

[UXCUTOR/XCRIPT/DIA]
REPLACE_GET_THRID   = TRUE
USE_MSG_APP_ID = 0
PA_NAME = PA_DIAMETER
INDEX_NAME = DIAMETER
USE_LOCAL_SESSION = TRUE
LOCAL_SESS_HOST =  
LOCAL_SESS_KEY = 

[UXCUTOR/XCRIPT/DIA/CMDINFO]
#cmdcode;app_id;dflopt;avp-name;avp-opts
#1000;1000;SESS_INTERIM;Test-AVP;0=SESS_INIT,1=0x02, 2 = SESS_INTERIM
8388647;0;SESS_INIT;;
8388649;0;SESS_INIT;;
8388645;0;SESS_INIT;;
8388646;0;SESS_INIT;;
271;0;SESS_INIT;;


[UXCUTOR/SERVICE_SELECTOR]
# SvcSel-Name; SvcSel-Id; PA Name; App-Id; dll_file; Creator; configuraton_fil(opt)
MADIA; 0; PA_DIAMETER; 0; libuxcss_dia.so; uxcss_madia_create; $UASYS_HOME/data/smscib.conf

###################################################################################
# Service Selectors Configuration
###################################################################################
[UXCUTOR/SERVICE_SELECTOR/MADIA/META]
# message field name; data type; map kind
hdr.app_id; int; HASH;
hdr.code; int; HASH;

[UXCUTOR/SERVICE_SELECTOR/DIA/APPID]

[UXCUTOR/SERVICE_SELECTOR/DIA/COMMAND]

[UXCUTOR/SERVICE_SELECTOR/MADIA/RULE]
#serivce-name; key(hdr.app_id); key(hdr.code); key(Service-Context-Id);
recv_msg; 16777312; 8388647; ;
recv_msg; 0; 8388647; ;
recv_msg; 16777312; 8388649; ;
recv_msg; 0; 8388649; ;
recv_msg; 16777313; 8388645; ;
recv_msg; 0; 8388645; ;
recv_msg; 3; 271; ;
recv_msg; 0; 271; ;

[UXCUTOR/XCRIPT/DIA]
REPLACE_GET_THRID   = 1
